use strict;
use SOAP::Lite;
#SOAP::Lite->import(+trace => qw(debug));

my $wp_soap = SOAP::Lite
        ->proxy('http://137.120.14.24/wikipathways-test/wpi/webservice/webservice.php')
        ->uri('http://www.wikipathways.org/webservice')
        ->on_fault(sub {
                my $soap = shift;
                my $res = shift;
if(ref($res) eq '') {
                        die($res);
                } else {
                        die($res->faultstring);
                }
                return new SOAP::SOM;
           } );
my $argsXrefData = SOAP::Data->name( 
                        ids => '210',
                               '210',
                                '210',
                                '210',
                               '210',
				'210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                               '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '210',
                                '2',
                                '6754',
                        code => 'L'
                        );
my @foundPathwayRefList = $wp_soap->findPathwaysByXref($argsXrefData)->paramsout;
unshift(@foundPathwayRefList, $wp_soap->findPathwaysByXref($argsXrefData)->result); #add first result to list
print "\nfindPathwaysByXref:\n";
foreach my $ref (@foundPathwayRefList){
        foreach my $key (keys %{ $ref}){
                if ($key =~ /^fields$/){ # Array of hash references to deconstruct
                        foreach my $fieldkey (keys %{ $ref->{$key}}){
                                print "\t$key.$fieldkey\n";
                        }
                } else {
                        print "\t$key: $ref->{$key}\n";
                }
        }
}

