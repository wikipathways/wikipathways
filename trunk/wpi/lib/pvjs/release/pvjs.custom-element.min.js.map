{"version":3,"sources":["node_modules/factor-bundle/node_modules/browser-pack/_prelude.js","lib/custom-element.js"],"names":[],"mappings":"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","file":"pvjs.custom-element.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","function initPvjs() {\n\n  var Pvjs = require('./main.js');\n\n  /**\n   * Enable the wikipathways-pvjs custom element\n   *\n   * @return\n   */\n  function registerWikiPathwaysPvjsElement(Pvjs) {\n    'use strict';\n\n    var DivPrototype = Object.create(window.HTMLDivElement.prototype);\n\n    DivPrototype.attributeChangedCallback = function(\n        attrName, oldValue, newValue) {\n      if (attrName === 'alt') {\n        this.textContent = newValue;\n      }\n    };\n\n    var WikiPathwaysPvjsPrototype = Object.create(DivPrototype);\n\n    WikiPathwaysPvjsPrototype.createdCallback = function() {\n      var vm = this;\n      var args = {};\n\n      var alt = args.alt = vm.getAttribute('alt');\n      if (!!alt) {\n        vm.attributeChangedCallback('alt', null, alt);\n      }\n\n      var displayErrors = args.displayErrors =\n          Boolean(vm.getAttribute('display-errors'));\n      vm.attributeChangedCallback('display-errors', null, displayErrors);\n\n      var displayWarnings = args.displayWarnings =\n          Boolean(vm.getAttribute('display-warnings'));\n      vm.attributeChangedCallback('display-warnings', null, displayWarnings);\n\n      var displaySuccess = args.displaySuccess =\n          Boolean(vm.getAttribute('display-success'));\n      vm.attributeChangedCallback('display-success', null, displaySuccess);\n\n      var fitToContainer = args.fitToContainer =\n          Boolean(vm.getAttribute('fit-to-container'));\n      vm.attributeChangedCallback('fit-to-container', null, fitToContainer);\n\n      var highlights = vm.getAttribute('highlights');\n      if (!!highlights) {\n        highlights = args.highlights = JSON.parse(decodeURIComponent(highlights));\n        vm.attributeChangedCallback('highlights', null, highlights);\n      }\n\n      var hashEditorStateComponents = window.location.hash.match('editor\\/(.*)$');\n      var hashEditorState;\n      if (!!hashEditorStateComponents && !!hashEditorStateComponents.length) {\n        hashEditorState = hashEditorStateComponents[1];\n      }\n      var editor = args.editor = hashEditorState ||\n          vm.getAttribute('editor');\n      if (!!editor) {\n        vm.attributeChangedCallback('editor', null, editor);\n      }\n\n      var resource = args.resource = vm.getAttribute('resource');\n      if (!!resource) {\n        vm.attributeChangedCallback('resource', null, resource);\n      }\n\n      var version = args.version = parseFloat(vm.getAttribute('version'));\n      if (!!version) {\n        vm.attributeChangedCallback('version', null, version);\n      }\n\n      /* TODO should this be enabled? It doesn't seem needed for the web-component.\n      var manualRender = args.manualRender =\n          Boolean(vm.getAttribute('manual-render'));\n      if (!!manualRender) {\n        vm.attributeChangedCallback('manual-render', null, manualRender);\n      }\n      //*/\n\n      var src = vm.getAttribute('src');\n      if (!!src) {\n        vm.attributeChangedCallback('src', null, src);\n      }\n      args.sourceData = [\n        {\n          uri: src,\n          // TODO we should be able to use the content type\n          // header from the server response instead of relying\n          // on this.\n          // Think analogous to image/png, image/gif, etc. for the img tag.\n          fileType:'gpml' // generally will correspond to filename extension\n        }\n      ];\n\n      vm.innerHTML = '';\n\n      var pvjs = new Pvjs(vm, args);\n    };\n\n    // Public: WikiPathwaysPvjsPrototype constructor.\n    //\n    //   # => <wikipathways-pvjs></wikipathways-pvjs>\n    //\n    window.WikiPathwaysPvjs = document.registerElement(\n        'wikipathways-pvjs', {\n        prototype: WikiPathwaysPvjsPrototype\n    });\n  }\n\n  if (!!window.Kaavio) {\n    registerWikiPathwaysPvjsElement(Pvjs);\n  } else {\n    window.addEventListener('kaavioready', function kaavioReadyHandler(e) {\n      window.removeEventListener('kaavioready', kaavioReadyHandler, false);\n      registerWikiPathwaysPvjsElement(Pvjs);\n    }, false);\n  }\n}\n\nif (document.readyState === 'complete') {\n  initPvjs();\n} else {\n  window.addEventListener('load', function listener(event) {\n    window.removeEventListener('load', listener, false);\n    initPvjs();\n  }, false);\n}\n"],"sourceRoot":"/source/"}