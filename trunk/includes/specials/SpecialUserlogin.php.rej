***************
*** 646,663 ****
  	 * @private
  	 */
  	function successfulLogin( $msg, $params, $auto = true ) {
! 		global $wgUser;
! 		global $wgOut;
  
  		# Run any hooks; ignore results
  
! 		$injected_html = '';
  		wfRunHooks('UserLoginComplete', array(&$wgUser, &$injected_html));
  
  		$wgOut->setPageTitle( wfMsg( 'loginsuccesstitle' ) );
  		$wgOut->setRobotpolicy( 'noindex,nofollow' );
  		$wgOut->setArticleRelated( false );
! 		$wgOut->addWikiMsgArray( $msg, $params );
  		$wgOut->addHtml( $injected_html );
  		if ( !empty( $this->mReturnTo ) ) {
  			$wgOut->returnToMain( $auto, $this->mReturnTo );
--- 646,674 ----
  	 * @private
  	 */
  	function successfulLogin( $msg, $params, $auto = true ) {
! 		global $wgUser, $wgOut, $wgScriptPath;
  
  		# Run any hooks; ignore results
  
! 		$addr = $wgUser->getEmail();
! 		$name = $wgUser->getName();
! 		$realname = $wgUser->getRealName();
! 		$prefs = $wgScriptPath . '/index.php/Special:Preferences';
! 		$watch = $wgScriptPath . '/index.php/Special:Watchlist/edit';
! 		$injected_html = "<p>You are now logged in as:
! 				<ul><li><i>Username:</i> <b>$name</b>
! 				<li><i>Real name:</i> <b>$realname</b> (<a href=$prefs>change</a>)
! 				<li><i>Email:</i> <b>$addr</b> (<a href=$prefs>change</a>)</ul></p> 
! 				<p>Your <i>real name</i> will show up in the author list of any pathway you create or edit.
! 				Your <i>email</i> will not be shown to other users, but it will be used to contact you if a pathway you have created
! 				or added to your <a href=$watch>watchlist</a> is altered or commented on by other users. Your <i>email</i> is the only means by which
! 				WikiPathways can contact you if any of your content requires special attention. <b>Please keep your <i>email</i> up-to-date.</b></p>";
  		wfRunHooks('UserLoginComplete', array(&$wgUser, &$injected_html));
  
  		$wgOut->setPageTitle( wfMsg( 'loginsuccesstitle' ) );
  		$wgOut->setRobotpolicy( 'noindex,nofollow' );
  		$wgOut->setArticleRelated( false );
! 		//$wgOut->addWikiMsgArray( $msg, $params );
  		$wgOut->addHtml( $injected_html );
  		if ( !empty( $this->mReturnTo ) ) {
  			$wgOut->returnToMain( $auto, $this->mReturnTo );
